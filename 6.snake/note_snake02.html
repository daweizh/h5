<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Greedy Snake</title>
        <style type="text/css">
            div {  /*直接对div标记规定样式*/
                width:400px;
                margin:0 auto;  /*上下边界为0，左右边界自适应*/
            }
            canvas {  /*直接对canvas标记规定样式*/
                background:#abcdef;
                border:1px solid #000000;
            }
        </style>
        <script type="text/javascript">
            var field;  //定义canvas对象变量
            var game;  //field环境对象，用来执行各种绘制行为
            var fieldWidth;  //游戏场景宽度
            var fieldHeight;  //游戏场景高度
            var speed = 160;  //蛇行走的速度
            var foodX = foodY = 0;  //食物的最初位置
            var snakeUnitSize = 8;  //蛇节的大小，也是食物的大小

            /*
             * 打开或刷新网页时执行，只执行一次
             */
            window.onload = function(){  //当所有网页内容加载完成后执行
                field = document.getElementById("field");  //获取网页中的canvas对象
                game = field.getContext("2d");  //得到canvas对象field所创建的绘制环境对象
                //game.fillStyle = "#ff0000";  //填充颜色
                //game.strokeStyle = "#000000";  //线条颜色
                //game.fillRect(100, 100, 8, 8);  //填充绘制一个方块（食物）
                fieldWidth = field.width;  //得到游戏场景的宽度
                fieldHeight = field.height;  //得到游戏场景的高度
                window.setInterval(putFood, speed);  //固定时间间隔执行
                                                     //每隔speed毫秒执行putFood功能
            }

            /*
             * 随机放置食物
             */
            function putFood(){
                var size = snakeUnitSize;  //得到食物的大小
                var grids = fieldWidth / size;  //计算机游戏场景的网格数
                game.fillStyle = "#ff0000";  //设置食物内部颜色
                game.strokeStyle = "#000000";  //设置食物边框颜色
                /* 
                 * Math.ceil小数向上取证，如10.1得到11
                 * Math.random()得到0.0~1.0之间的一个伪随机数。
                 */
                foodX = Math.ceil(Math.random() * (grids));  //计算x坐标
                foodY = Math.ceil(Math.random() * (grids));  //计算y坐标
                game.fillRect(foodX*size, foodY*size, size, size);  //填充绘制食物
            } 

        </script>
    </head>
    <body>
        <h2 align="center">Greedy Snake</h2>
        <div>
            <canvas id="field" width="400" height="600">
                This is the field that snake snaking.
            </canvas>
        </div>
    </body>
</html>
